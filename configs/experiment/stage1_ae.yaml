# @package _global_

defaults:
  - override /data: sc_atlas_ae
  - override /model: ae_stage1
  - override /trainer: default

task_name: "ae_stage1_sweep_1210"

tags: ["ae", "sweep", "tiledbsoma", "1215"]

seed: 12345

trainer:
  min_epochs: 1
  max_epochs: 5
  gradient_clip_val: 0.5

model:
  optimizer:
    lr: 1e-4
  net:
    # 默认值
    hidden_dims: [4096, 2048, 1024, 512]
    latent_dim: 64

logger:
  wandb:
    group: "ae_stage1_sweep"
    name: "ae_stage1_${model.net._target_}_${hydra:job.num}"  # 在名称中包含 net 类型

hydra:
  mode: MULTIRUN
  sweeper:
    params:
      # 方法1：直接覆盖配置组（推荐）
      # 这会切换 /model/net/ae/ 下的不同配置文件
      model/net/ae@model.net: vae,vanilla
      
      # 方法2：同时 sweep 其他超参数
      model.net.hidden_dims: "[4096,2048,1024,512],[8192,4096,2048,1024,512]"
